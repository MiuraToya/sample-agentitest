{"uid":"2d03a6734043d3e7","name":"test_未認証時ナビにサインインリンクが表示される","fullName":"tests.agentitest.test_sample_app.TestNavigation#test_未認証時ナビにサインインリンクが表示される","historyId":"40f10e679e6d97608b297769d3cb2db8","time":{"start":1772150260714,"stop":1772150265788,"duration":5074},"description":"未認証のとき、ナビに 'Sign In' リンクが表示される","descriptionHtml":"<p>未認証のとき、ナビに 'Sign In' リンクが表示される</p>\n","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestNavigation object at 0x7f82095d6e90>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8202f27680>)\nbrowser_session = BrowserSession\uD83C\uDD51 d914 \uD83C\uDD63 15 (cdp_url=ws://localhost:58965/devtools/browser/50c4f288-3d2c-47fd-afd3-be30969dc5b8, profile=BrowserProfile)\n\n    @allure.story(\"未認証時にSign Inリンクが表示される\")\n    async def test_未認証時ナビにサインインリンクが表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"未認証のとき、ナビに 'Sign In' リンクが表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            \"look at the navigation bar. \"\n            \"Confirm that a 'Sign In' link is visible and there is no 'Sign Out' button. \"\n            \"Return 'sign_in_visible' if the 'Sign In' link is shown.\",\n            \"sign_in_visible\",\n        )\n\ntests/agentitest/test_sample_app.py:133: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestNavigation object at 0x7f82095d6e90>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8202f27680>)\nbrowser_session = BrowserSession\uD83C\uDD51 d914 \uD83C\uDD63 15 (cdp_url=ws://localhost:58965/devtools/browser/50c4f288-3d2c-47fd-afd3-be30969dc5b8, profile=BrowserProfile)\ntask_instruction = \"look at the navigation bar. Confirm that a 'Sign In' link is visible and there is no 'Sign Out' button. Return 'sign_in_visible' if the 'Sign In' link is shown.\"\nexpected_substring = 'sign_in_visible', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_profile","time":{"start":1772150202979,"stop":1772150202981,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_version_info","time":{"start":1772150202981,"stop":1772150204789,"duration":1808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1772150204789,"stop":1772150204789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_session","time":{"start":1772150260393,"stop":1772150260714,"duration":321},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1772150260393,"stop":1772150260393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data","time":{"start":1772150260393,"stop":1772150260393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"llm","time":{"start":1772150260393,"stop":1772150260393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"未認証のとき、ナビに 'Sign In' リンクが表示される","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestNavigation object at 0x7f82095d6e90>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8202f27680>)\nbrowser_session = BrowserSession\uD83C\uDD51 d914 \uD83C\uDD63 15 (cdp_url=ws://localhost:58965/devtools/browser/50c4f288-3d2c-47fd-afd3-be30969dc5b8, profile=BrowserProfile)\n\n    @allure.story(\"未認証時にSign Inリンクが表示される\")\n    async def test_未認証時ナビにサインインリンクが表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"未認証のとき、ナビに 'Sign In' リンクが表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            \"look at the navigation bar. \"\n            \"Confirm that a 'Sign In' link is visible and there is no 'Sign Out' button. \"\n            \"Return 'sign_in_visible' if the 'Sign In' link is shown.\",\n            \"sign_in_visible\",\n        )\n\ntests/agentitest/test_sample_app.py:133: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestNavigation object at 0x7f82095d6e90>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8202f27680>)\nbrowser_session = BrowserSession\uD83C\uDD51 d914 \uD83C\uDD63 15 (cdp_url=ws://localhost:58965/devtools/browser/50c4f288-3d2c-47fd-afd3-be30969dc5b8, profile=BrowserProfile)\ntask_instruction = \"look at the navigation bar. Confirm that a 'Sign In' link is visible and there is no 'Sign Out' button. Return 'sign_in_visible' if the 'Sign In' link is shown.\"\nexpected_substring = 'sign_in_visible', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","steps":[{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150262524,"stop":1772150262584,"duration":60},"status":"passed","steps":[],"attachments":[{"uid":"d23c93e6177738d2","name":"Agent Thoughts","source":"d23c93e6177738d2.txt","type":"text/plain","size":142},{"uid":"496bfa44760d3b81","name":"URL","source":"496bfa44760d3b81.txt","type":"text/plain","size":38},{"uid":"6358b82eefba5bd4","name":"Step Duration","source":"6358b82eefba5bd4.txt","type":"text/plain","size":5},{"uid":"6fdda8fe00aa431c","name":"Screenshot","source":"6fdda8fe00aa431c.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150263533,"stop":1772150263585,"duration":52},"status":"passed","steps":[],"attachments":[{"uid":"24f13a85d5a54111","name":"Agent Thoughts","source":"24f13a85d5a54111.txt","type":"text/plain","size":142},{"uid":"f8a374a0ecc250f","name":"URL","source":"f8a374a0ecc250f.txt","type":"text/plain","size":38},{"uid":"42aa669fe5428636","name":"Step Duration","source":"42aa669fe5428636.txt","type":"text/plain","size":5},{"uid":"ec6c95daa35a1454","name":"Screenshot","source":"ec6c95daa35a1454.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150264574,"stop":1772150264634,"duration":60},"status":"passed","steps":[],"attachments":[{"uid":"51e7b4adbdc98d01","name":"Agent Thoughts","source":"51e7b4adbdc98d01.txt","type":"text/plain","size":142},{"uid":"7a3a18883d4568ac","name":"URL","source":"7a3a18883d4568ac.txt","type":"text/plain","size":38},{"uid":"60d8b2942ae54c2a","name":"Step Duration","source":"60d8b2942ae54c2a.txt","type":"text/plain","size":5},{"uid":"dbd2f8635c895833","name":"Screenshot","source":"dbd2f8635c895833.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150265583,"stop":1772150265634,"duration":51},"status":"passed","steps":[],"attachments":[{"uid":"9fc7ba94e99b0a23","name":"Agent Thoughts","source":"9fc7ba94e99b0a23.txt","type":"text/plain","size":142},{"uid":"3cccd62501e45498","name":"URL","source":"3cccd62501e45498.txt","type":"text/plain","size":38},{"uid":"c88afa6ebca135e","name":"Step Duration","source":"c88afa6ebca135e.txt","type":"text/plain","size":5},{"uid":"508a021bab0df386","name":"Screenshot","source":"508a021bab0df386.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"be558d3c95af4a9","name":"log","source":"be558d3c95af4a9.txt","type":"text/plain","size":369}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser_session::finalizer","time":{"start":1772150265795,"stop":1772150265904,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1772150265904,"stop":1772150265906,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data::0","time":{"start":1772150265906,"stop":1772150266452,"duration":546},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"未認証時にSign Inリンクが表示される"},{"name":"feature","value":"ナビゲーション"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.agentitest"},{"name":"suite","value":"test_sample_app"},{"name":"subSuite","value":"TestNavigation"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"3145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.agentitest.test_sample_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["asyncio"]},"source":"2d03a6734043d3e7.json","parameterValues":[]}