{"uid":"118d993f328589e9","name":"test_複数Todoから1件削除すると残りが正しく表示される","fullName":"tests.agentitest.test_sample_app.TestTodo#test_複数Todoから1件削除すると残りが正しく表示される","historyId":"851e90e7d3232c75c4877b4b2bff0448","time":{"start":1772150285171,"stop":1772150290216,"duration":5045},"description":"3件追加→1件削除し、残り2件が正しく表示される","descriptionHtml":"<p>3件追加→1件削除し、残り2件が正しく表示される</p>\n","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestTodo object at 0x7f8209595cd0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f82014bf020>)\nbrowser_session = BrowserSession\uD83C\uDD51 d0b7 \uD83C\uDD63 5C (cdp_url=ws://localhost:38853/devtools/browser/6c5e093d-5a25-40ac-8eba-4082e39167a0, profile=BrowserProfile)\n\n    @allure.story(\"ユーザーが複数のTodoを管理する\")\n    async def test_複数Todoから1件削除すると残りが正しく表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"3件追加→1件削除し、残り2件が正しく表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            f\"{self._sign_in_instruction()} \"\n            \"On the Todo page, add three todos: 'タスクA', 'タスクB', 'タスクC' \"\n            \"(type each one and click 'Add', waiting for it to appear before adding the next). \"\n            \"Then delete 'タスクB' by clicking its 'Delete' button. \"\n            \"Confirm that 'タスクA' and 'タスクC' are still in the list, \"\n            \"but 'タスクB' is gone. \"\n            \"Return 'partial_delete_ok' if the remaining items are correct.\",\n            \"partial_delete_ok\",\n        )\n\ntests/agentitest/test_sample_app.py:203: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestTodo object at 0x7f8209595cd0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f82014bf020>)\nbrowser_session = BrowserSession\uD83C\uDD51 d0b7 \uD83C\uDD63 5C (cdp_url=ws://localhost:38853/devtools/browser/6c5e093d-5a25-40ac-8eba-4082e39167a0, profile=BrowserProfile)\ntask_instruction = \"click the 'Sign In' link in the navigation. On the login page, enter 'test@example.com' in the Email field and 'Test1...' and 'タスクC' are still in the list, but 'タスクB' is gone. Return 'partial_delete_ok' if the remaining items are correct.\"\nexpected_substring = 'partial_delete_ok', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_profile","time":{"start":1772150202979,"stop":1772150202981,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_version_info","time":{"start":1772150202981,"stop":1772150204789,"duration":1808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1772150204789,"stop":1772150204789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"llm","time":{"start":1772150284840,"stop":1772150284840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_session","time":{"start":1772150284840,"stop":1772150285170,"duration":330},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1772150284840,"stop":1772150284840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data","time":{"start":1772150284840,"stop":1772150284840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"3件追加→1件削除し、残り2件が正しく表示される","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestTodo object at 0x7f8209595cd0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f82014bf020>)\nbrowser_session = BrowserSession\uD83C\uDD51 d0b7 \uD83C\uDD63 5C (cdp_url=ws://localhost:38853/devtools/browser/6c5e093d-5a25-40ac-8eba-4082e39167a0, profile=BrowserProfile)\n\n    @allure.story(\"ユーザーが複数のTodoを管理する\")\n    async def test_複数Todoから1件削除すると残りが正しく表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"3件追加→1件削除し、残り2件が正しく表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            f\"{self._sign_in_instruction()} \"\n            \"On the Todo page, add three todos: 'タスクA', 'タスクB', 'タスクC' \"\n            \"(type each one and click 'Add', waiting for it to appear before adding the next). \"\n            \"Then delete 'タスクB' by clicking its 'Delete' button. \"\n            \"Confirm that 'タスクA' and 'タスクC' are still in the list, \"\n            \"but 'タスクB' is gone. \"\n            \"Return 'partial_delete_ok' if the remaining items are correct.\",\n            \"partial_delete_ok\",\n        )\n\ntests/agentitest/test_sample_app.py:203: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestTodo object at 0x7f8209595cd0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f82014bf020>)\nbrowser_session = BrowserSession\uD83C\uDD51 d0b7 \uD83C\uDD63 5C (cdp_url=ws://localhost:38853/devtools/browser/6c5e093d-5a25-40ac-8eba-4082e39167a0, profile=BrowserProfile)\ntask_instruction = \"click the 'Sign In' link in the navigation. On the login page, enter 'test@example.com' in the Email field and 'Test1...' and 'タスクC' are still in the list, but 'タスクB' is gone. Return 'partial_delete_ok' if the remaining items are correct.\"\nexpected_substring = 'partial_delete_ok', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","steps":[{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150286964,"stop":1772150287016,"duration":52},"status":"passed","steps":[],"attachments":[{"uid":"83549c10197a655f","name":"Agent Thoughts","source":"83549c10197a655f.txt","type":"text/plain","size":142},{"uid":"65448c1b0f9b367d","name":"URL","source":"65448c1b0f9b367d.txt","type":"text/plain","size":38},{"uid":"7f49c20d434f65fa","name":"Step Duration","source":"7f49c20d434f65fa.txt","type":"text/plain","size":5},{"uid":"1028556ade374fb","name":"Screenshot","source":"1028556ade374fb.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150287975,"stop":1772150288034,"duration":59},"status":"passed","steps":[],"attachments":[{"uid":"546c116cec8578ef","name":"Agent Thoughts","source":"546c116cec8578ef.txt","type":"text/plain","size":142},{"uid":"683fc4e66126addd","name":"URL","source":"683fc4e66126addd.txt","type":"text/plain","size":38},{"uid":"31591254f235c140","name":"Step Duration","source":"31591254f235c140.txt","type":"text/plain","size":5},{"uid":"94687119b529ca30","name":"Screenshot","source":"94687119b529ca30.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150289015,"stop":1772150289067,"duration":52},"status":"passed","steps":[],"attachments":[{"uid":"81af974c6f01c9e7","name":"Agent Thoughts","source":"81af974c6f01c9e7.txt","type":"text/plain","size":142},{"uid":"6f25c0345a7036c0","name":"URL","source":"6f25c0345a7036c0.txt","type":"text/plain","size":38},{"uid":"2cee9eac8e4f4002","name":"Step Duration","source":"2cee9eac8e4f4002.txt","type":"text/plain","size":5},{"uid":"d87bd4a70354d80f","name":"Screenshot","source":"d87bd4a70354d80f.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150290005,"stop":1772150290066,"duration":61},"status":"passed","steps":[],"attachments":[{"uid":"340edc4cb2601c3a","name":"Agent Thoughts","source":"340edc4cb2601c3a.txt","type":"text/plain","size":142},{"uid":"a638b5d69b85b6","name":"URL","source":"a638b5d69b85b6.txt","type":"text/plain","size":38},{"uid":"9e9f84d7223fd458","name":"Step Duration","source":"9e9f84d7223fd458.txt","type":"text/plain","size":5},{"uid":"10aff432291b76d2","name":"Screenshot","source":"10aff432291b76d2.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ada0b10822dde8c5","name":"log","source":"ada0b10822dde8c5.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser_session::finalizer","time":{"start":1772150290222,"stop":1772150290331,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1772150290331,"stop":1772150290332,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data::0","time":{"start":1772150290333,"stop":1772150290873,"duration":540},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"ユーザーが複数のTodoを管理する"},{"name":"feature","value":"Todo"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.agentitest"},{"name":"suite","value":"test_sample_app"},{"name":"subSuite","value":"TestTodo"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"3145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.agentitest.test_sample_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["asyncio"]},"source":"118d993f328589e9.json","parameterValues":[]}