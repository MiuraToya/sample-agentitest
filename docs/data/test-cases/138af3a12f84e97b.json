{"uid":"138af3a12f84e97b","name":"test_サインアウト後にTodoページへアクセスするとログインに戻る","fullName":"tests.agentitest.test_sample_app.TestAuth#test_サインアウト後にTodoページへアクセスするとログインに戻る","historyId":"d1c215dce0c9a2936b40bcb85dd00109","time":{"start":1772150248289,"stop":1772150253413,"duration":5124},"description":"サインアウト後、/todo にアクセスするとログインに戻る","descriptionHtml":"<p>サインアウト後、/todo にアクセスするとログインに戻る</p>\n","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestAuth object at 0x7f8209595ba0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8201326190>)\nbrowser_session = BrowserSession\uD83C\uDD51 d855 \uD83C\uDD63 DF (cdp_url=ws://localhost:44817/devtools/browser/216511fd-07f2-4df4-aeb7-da994cbc620d, profile=BrowserProfile)\n\n    @allure.story(\"ユーザーがサインアウトするとアクセスできなくなる\")\n    async def test_サインアウト後にTodoページへアクセスするとログインに戻る(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"サインアウト後、/todo にアクセスするとログインに戻る\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            f\"{self._sign_in_instruction()} \"\n            \"After reaching the Todo page, click the 'Sign Out' button. \"\n            \"Then click the 'Todo' link in the navigation again. \"\n            \"Confirm that you are redirected to the login page with a 'Sign In' heading. \"\n            \"Return 'signed_out_redirected' if the login page is shown.\",\n            \"signed_out_redirected\",\n        )\n\ntests/agentitest/test_sample_app.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestAuth object at 0x7f8209595ba0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8201326190>)\nbrowser_session = BrowserSession\uD83C\uDD51 d855 \uD83C\uDD63 DF (cdp_url=ws://localhost:44817/devtools/browser/216511fd-07f2-4df4-aeb7-da994cbc620d, profile=BrowserProfile)\ntask_instruction = \"click the 'Sign In' link in the navigation. On the login page, enter 'test@example.com' in the Email field and 'Test1... are redirected to the login page with a 'Sign In' heading. Return 'signed_out_redirected' if the login page is shown.\"\nexpected_substring = 'signed_out_redirected', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_profile","time":{"start":1772150202979,"stop":1772150202981,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_version_info","time":{"start":1772150202981,"stop":1772150204789,"duration":1808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1772150204789,"stop":1772150204789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"llm","time":{"start":1772150247960,"stop":1772150247960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1772150247960,"stop":1772150247960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_session","time":{"start":1772150247960,"stop":1772150248289,"duration":329},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data","time":{"start":1772150247960,"stop":1772150247960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"サインアウト後、/todo にアクセスするとログインに戻る","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestAuth object at 0x7f8209595ba0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8201326190>)\nbrowser_session = BrowserSession\uD83C\uDD51 d855 \uD83C\uDD63 DF (cdp_url=ws://localhost:44817/devtools/browser/216511fd-07f2-4df4-aeb7-da994cbc620d, profile=BrowserProfile)\n\n    @allure.story(\"ユーザーがサインアウトするとアクセスできなくなる\")\n    async def test_サインアウト後にTodoページへアクセスするとログインに戻る(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"サインアウト後、/todo にアクセスするとログインに戻る\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            f\"{self._sign_in_instruction()} \"\n            \"After reaching the Todo page, click the 'Sign Out' button. \"\n            \"Then click the 'Todo' link in the navigation again. \"\n            \"Confirm that you are redirected to the login page with a 'Sign In' heading. \"\n            \"Return 'signed_out_redirected' if the login page is shown.\",\n            \"signed_out_redirected\",\n        )\n\ntests/agentitest/test_sample_app.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestAuth object at 0x7f8209595ba0>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8201326190>)\nbrowser_session = BrowserSession\uD83C\uDD51 d855 \uD83C\uDD63 DF (cdp_url=ws://localhost:44817/devtools/browser/216511fd-07f2-4df4-aeb7-da994cbc620d, profile=BrowserProfile)\ntask_instruction = \"click the 'Sign In' link in the navigation. On the login page, enter 'test@example.com' in the Email field and 'Test1... are redirected to the login page with a 'Sign In' heading. Return 'signed_out_redirected' if the login page is shown.\"\nexpected_substring = 'signed_out_redirected', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","steps":[{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150250087,"stop":1772150250151,"duration":64},"status":"passed","steps":[],"attachments":[{"uid":"13cf9b294f852f54","name":"Agent Thoughts","source":"13cf9b294f852f54.txt","type":"text/plain","size":142},{"uid":"eb534065cb2e54c9","name":"URL","source":"eb534065cb2e54c9.txt","type":"text/plain","size":38},{"uid":"2a5e91b4f4c909ef","name":"Step Duration","source":"2a5e91b4f4c909ef.txt","type":"text/plain","size":5},{"uid":"164753d47d8d3e7d","name":"Screenshot","source":"164753d47d8d3e7d.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150251157,"stop":1772150251218,"duration":61},"status":"passed","steps":[],"attachments":[{"uid":"12b3da91972c4c3e","name":"Agent Thoughts","source":"12b3da91972c4c3e.txt","type":"text/plain","size":142},{"uid":"67035e865bf3fae","name":"URL","source":"67035e865bf3fae.txt","type":"text/plain","size":38},{"uid":"4f5ea6cc3ecab84f","name":"Step Duration","source":"4f5ea6cc3ecab84f.txt","type":"text/plain","size":5},{"uid":"a266265061946e35","name":"Screenshot","source":"a266265061946e35.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150252211,"stop":1772150252268,"duration":57},"status":"passed","steps":[],"attachments":[{"uid":"284afdea9e16e6e6","name":"Agent Thoughts","source":"284afdea9e16e6e6.txt","type":"text/plain","size":142},{"uid":"6576f8ad25c08f84","name":"URL","source":"6576f8ad25c08f84.txt","type":"text/plain","size":38},{"uid":"2da3b7d4e08efa02","name":"Step Duration","source":"2da3b7d4e08efa02.txt","type":"text/plain","size":5},{"uid":"acc8a89c0de44ce5","name":"Screenshot","source":"acc8a89c0de44ce5.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: navigate(url=https://d214my39l3yw2c.cloudfront.net, new_tab=False)","time":{"start":1772150253217,"stop":1772150253268,"duration":51},"status":"passed","steps":[],"attachments":[{"uid":"55f41b52fb304b49","name":"Agent Thoughts","source":"55f41b52fb304b49.txt","type":"text/plain","size":142},{"uid":"d3186d0ab32c583e","name":"URL","source":"d3186d0ab32c583e.txt","type":"text/plain","size":38},{"uid":"24ff1076be729156","name":"Step Duration","source":"24ff1076be729156.txt","type":"text/plain","size":5},{"uid":"42bf15cb5218e80f","name":"Screenshot","source":"42bf15cb5218e80f.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1ff4280520f5bc2a","name":"log","source":"1ff4280520f5bc2a.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser_session::finalizer","time":{"start":1772150253419,"stop":1772150253528,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1772150253529,"stop":1772150253530,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data::0","time":{"start":1772150253530,"stop":1772150254119,"duration":589},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"ユーザーがサインアウトするとアクセスできなくなる"},{"name":"feature","value":"認証"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.agentitest"},{"name":"suite","value":"test_sample_app"},{"name":"subSuite","value":"TestAuth"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"3145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.agentitest.test_sample_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["asyncio"]},"source":"138af3a12f84e97b.json","parameterValues":[]}