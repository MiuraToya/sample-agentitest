{"uid":"46cb876d644f0f5e","name":"test_トップページにタイトルと説明文が表示される","fullName":"tests.agentitest.test_sample_app.TestHome#test_トップページにタイトルと説明文が表示される","historyId":"9e07e74f871dc801b26cc139a8ff11c7","time":{"start":1772150213910,"stop":1772150225273,"duration":11363},"description":"トップページに 'Welcome to SampleApp' と 'React + FastAPI' が表示される","descriptionHtml":"<p>トップページに 'Welcome to SampleApp' と 'React + FastAPI' が表示される</p>\n","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestHome object at 0x7f82095d6710>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8208107b60>)\nbrowser_session = BrowserSession\uD83C\uDD51 c9d2 \uD83C\uDD63 CC (cdp_url=ws://localhost:47125/devtools/browser/9fff1550-4452-4fc8-80b5-c7c78531a66b, profile=BrowserProfile)\n\n    @allure.story(\"訪問者がウェルカムページを閲覧する\")\n    async def test_トップページにタイトルと説明文が表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"トップページに 'Welcome to SampleApp' と 'React + FastAPI' が表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            \"confirm that the heading says 'Welcome to SampleApp' \"\n            \"and the page description mentions 'React + FastAPI'. \"\n            \"Return 'welcome_confirmed' if both are visible.\",\n            \"welcome_confirmed\",\n        )\n\ntests/agentitest/test_sample_app.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestHome object at 0x7f82095d6710>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8208107b60>)\nbrowser_session = BrowserSession\uD83C\uDD51 c9d2 \uD83C\uDD63 CC (cdp_url=ws://localhost:47125/devtools/browser/9fff1550-4452-4fc8-80b5-c7c78531a66b, profile=BrowserProfile)\ntask_instruction = \"confirm that the heading says 'Welcome to SampleApp' and the page description mentions 'React + FastAPI'. Return 'welcome_confirmed' if both are visible.\"\nexpected_substring = 'welcome_confirmed', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_profile","time":{"start":1772150202979,"stop":1772150202981,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772150202979,"stop":1772150202979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_version_info","time":{"start":1772150202981,"stop":1772150204789,"duration":1808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data","time":{"start":1772150204789,"stop":1772150204789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1772150204789,"stop":1772150204789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1772150204789,"stop":1772150204790,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"llm","time":{"start":1772150204789,"stop":1772150204790,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_session","time":{"start":1772150204790,"stop":1772150213910,"duration":9120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"トップページに 'Welcome to SampleApp' と 'React + FastAPI' が表示される","status":"failed","statusMessage":"AssertionError: Agent did not return a result.\nassert ('' is not None and '' != '')\n +  where '' = <built-in method strip of str object at 0x14f83a8>()\n +    where <built-in method strip of str object at 0x14f83a8> = ''.strip","statusTrace":"self = <tests.agentitest.test_sample_app.TestHome object at 0x7f82095d6710>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8208107b60>)\nbrowser_session = BrowserSession\uD83C\uDD51 c9d2 \uD83C\uDD63 CC (cdp_url=ws://localhost:47125/devtools/browser/9fff1550-4452-4fc8-80b5-c7c78531a66b, profile=BrowserProfile)\n\n    @allure.story(\"訪問者がウェルカムページを閲覧する\")\n    async def test_トップページにタイトルと説明文が表示される(\n        self, llm: ChatGoogle, browser_session: BrowserSession\n    ):\n        \"\"\"トップページに 'Welcome to SampleApp' と 'React + FastAPI' が表示される\"\"\"\n>       await self.run_task(\n            llm,\n            browser_session,\n            \"confirm that the heading says 'Welcome to SampleApp' \"\n            \"and the page description mentions 'React + FastAPI'. \"\n            \"Return 'welcome_confirmed' if both are visible.\",\n            \"welcome_confirmed\",\n        )\n\ntests/agentitest/test_sample_app.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.agentitest.test_sample_app.TestHome object at 0x7f82095d6710>\nllm = ChatGoogle(model='gemini-2.5-flash-lite', temperature=0.2, top_p=None, seed=None, thinking_budget=0, max_output_tokens...ls=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x7f8208107b60>)\nbrowser_session = BrowserSession\uD83C\uDD51 c9d2 \uD83C\uDD63 CC (cdp_url=ws://localhost:47125/devtools/browser/9fff1550-4452-4fc8-80b5-c7c78531a66b, profile=BrowserProfile)\ntask_instruction = \"confirm that the heading says 'Welcome to SampleApp' and the page description mentions 'React + FastAPI'. Return 'welcome_confirmed' if both are visible.\"\nexpected_substring = 'welcome_confirmed', ignore_case = True\n\n    async def run_task(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n        task_instruction: str,\n        expected_substring: str,\n        ignore_case: bool = True,\n    ) -> str:\n        \"\"\"エージェントにタスクを実行させ、結果を検証する\"\"\"\n        full_task: str = f\"Go to {BASE_URL}, then {task_instruction}\"\n        result_text: str = await _run_agent_task(full_task, llm, browser_session)\n>       assert result_text is not None and result_text.strip() != \"\", (\n            \"Agent did not return a result.\"\n        )\nE       AssertionError: Agent did not return a result.\nE       assert ('' is not None and '' != '')\nE        +  where '' = <built-in method strip of str object at 0x14f83a8>()\nE        +    where <built-in method strip of str object at 0x14f83a8> = ''.strip\n\ntests/agentitest/conftest.py:180: AssertionError","steps":[{"name":"Action: wait(seconds=5)","time":{"start":1772150220748,"stop":1772150220802,"duration":54},"status":"passed","steps":[],"attachments":[{"uid":"a7a6c2702d54d1da","name":"Agent Thoughts","source":"a7a6c2702d54d1da.txt","type":"text/plain","size":1460},{"uid":"a65c875ecc916391","name":"URL","source":"a65c875ecc916391.txt","type":"text/plain","size":38},{"uid":"35abd0431350169","name":"Step Duration","source":"35abd0431350169.txt","type":"text/plain","size":5},{"uid":"665141d8955f9df3","name":"Screenshot","source":"665141d8955f9df3.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: wait(seconds=5)","time":{"start":1772150221881,"stop":1772150221936,"duration":55},"status":"passed","steps":[],"attachments":[{"uid":"e3503e51a334e134","name":"Agent Thoughts","source":"e3503e51a334e134.txt","type":"text/plain","size":1460},{"uid":"687b1c34817938e6","name":"URL","source":"687b1c34817938e6.txt","type":"text/plain","size":38},{"uid":"458c50db07d1b9e5","name":"Step Duration","source":"458c50db07d1b9e5.txt","type":"text/plain","size":5},{"uid":"77c41511e7135f64","name":"Screenshot","source":"77c41511e7135f64.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: wait(seconds=5)","time":{"start":1772150222913,"stop":1772150222969,"duration":56},"status":"passed","steps":[],"attachments":[{"uid":"d558a00008dc9e2c","name":"Agent Thoughts","source":"d558a00008dc9e2c.txt","type":"text/plain","size":1460},{"uid":"5823ee30a29ab786","name":"URL","source":"5823ee30a29ab786.txt","type":"text/plain","size":38},{"uid":"bdcf6262596fb9b3","name":"Step Duration","source":"bdcf6262596fb9b3.txt","type":"text/plain","size":5},{"uid":"a01f31ef6f01a8f","name":"Screenshot","source":"a01f31ef6f01a8f.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: wait(seconds=5)","time":{"start":1772150223947,"stop":1772150224003,"duration":56},"status":"passed","steps":[],"attachments":[{"uid":"5ecdef3d0386230b","name":"Agent Thoughts","source":"5ecdef3d0386230b.txt","type":"text/plain","size":1460},{"uid":"9d3e87b13c82b44d","name":"URL","source":"9d3e87b13c82b44d.txt","type":"text/plain","size":38},{"uid":"39d4eb0b91a7eb4b","name":"Step Duration","source":"39d4eb0b91a7eb4b.txt","type":"text/plain","size":5},{"uid":"d3c41d772abd74b4","name":"Screenshot","source":"d3c41d772abd74b4.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Action: wait(seconds=5)","time":{"start":1772150225008,"stop":1772150225114,"duration":106},"status":"passed","steps":[],"attachments":[{"uid":"3c1857227c6b5c66","name":"Agent Thoughts","source":"3c1857227c6b5c66.txt","type":"text/plain","size":1460},{"uid":"1f1cea8a8732ebd2","name":"URL","source":"1f1cea8a8732ebd2.txt","type":"text/plain","size":38},{"uid":"8322522a9c9e71e1","name":"Step Duration","source":"8322522a9c9e71e1.txt","type":"text/plain","size":5},{"uid":"f38aa93a3bd71820","name":"Screenshot","source":"f38aa93a3bd71820.png","type":"image/png","size":39189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1a7da07221f9d7f9","name":"log","source":"1a7da07221f9d7f9.txt","type":"text/plain","size":362}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":5,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser_session::finalizer","time":{"start":1772150225395,"stop":1772150225505,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1772150225505,"stop":1772150225506,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_test_data::0","time":{"start":1772150225507,"stop":1772150226220,"duration":713},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"訪問者がウェルカムページを閲覧する"},{"name":"feature","value":"ホーム"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.agentitest"},{"name":"suite","value":"test_sample_app"},{"name":"subSuite","value":"TestHome"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"3145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.agentitest.test_sample_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["asyncio"]},"source":"46cb876d644f0f5e.json","parameterValues":[]}